if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MSideNavMarauderLogger",["MLegacyDataStore","MTouchClick","MarauderLogger","Stratcom"],(function(a,b,c,d,e,f){var g="";function a(a){b("MarauderLogger").toggleModule("sidebar_menu",!0)}function c(a){b("MarauderLogger").toggleModule("sidebar_menu",!1)}function d(a){var c=a.getNode("tag:a");a=a.getNode("tag:div");b("MarauderLogger").log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:a?a.innerText:"unknown",url:c&&c.href});b("MarauderLogger").setNavigationModule("sidebar_menu")}function f(){j("session_start")}function h(a){a=a.getData();if(a.node.rel<=0)return;var c=0,d="",e=b("MLegacyDataStore").get(a.node);e&&(c=e.bootstrap?1:0,d=e.type);e=0;var f=null;for(var g=0;g<a.results.length;g++){var h=a.results[g];if(h.rel>0){if(h.rel==a.node.rel){f=e;break}e++}}j("click",{query:a.query,is_bootstrapped:c,display_position:f},d,a.node.rel)}function i(a){g!==a&&j("search_keystroke",{prev_query:g,new_query:a}),g=a}function j(a,c,d,e){b("MarauderLogger").log(a,"search_typeahead",c,d,e)}function k(a){return a.listen("change",i)}b("Stratcom").listen("m:side-area:show",null,a);b("Stratcom").listen("m:side-area:hide",null,c);b("Stratcom").listen("click","side-menu-item",d);a=b("MTouchClick").hasTouchEvents()?"touchend":"click";b("Stratcom").listen(a,"graph-search-activator",f);b("Stratcom").listen("m:search:typeahead:focused",null,f);b("Stratcom").listen("m:search:typeahead:activated",null,f);b("Stratcom").listen("m:search-typeahead:select",null,h);e.exports={setupTypeaheadListener:k}}),null);
__d("VisibilityListener",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){throw new Error("not supported here")}function b(){return!1}f.getHiddenTime=a;f.supported=b}),66);
__d("runMaybeOnAfterTTI",[],(function(a,b,c,d,e,f){function a(a){a()}f["default"]=a}),66);
__d("MSearchConst",[],(function(a,b,c,d,e,f){"use strict";a=46;b="news";c="video";d="content";e="mnns";var g="mnngns",h="click",i="imp";f.refid=a;f.news_search=b;f.video_search=c;f.content_search=d;f.msite_news_null_state=e;f.msite_news_non_gs_null_state=g;f.event_click=h;f.event_impression=i}),66);
__d("MSearchTrendingLogger",["MRequest","Run","Stratcom","ThisControllerNoLongerExists","forEachObject"],(function(a,b,c,d,e,f){"use strict";var g=null;a={registerTrendingTopicListeners:function(a,c,d,e){var f=this;g||(g={},b("Run").onLeave(function(){b("forEachObject")(g,function(a){return a.remove()}),g=null}));var h=[],i=function(i){var k=a[i];if(k==null||g[k])return"continue";g[k]=b("Stratcom").listen("click",k,function(){f._logTrendingTopicClick(k,c,d[i],e)});h.push(g[k])};for(var j=0;j<a.length;j++){var k=i(j);if(k==="continue")continue}return h},logTrendingTopicImpressions:function(a,c,d,e){if(!a||a.length===0)return;for(var c=0;c<a.length;c++)a[c]==null&&(a.splice(c,1),d.splice(c,1),c--);e=b("ThisControllerNoLongerExists").__DEADURI__("br9oofn7u");c=new(b("MRequest"))(e);c.send()},_logTrendingTopicClick:function(a,c,d,e){if(!a)return;return function(){var a=b("ThisControllerNoLongerExists").__DEADURI__("g85y6t73b");a=new(b("MRequest"))(a);a.send()}}};e.exports=a}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function(a,b,c,d,e,f){"use strict";var g=20;function h(a){if(a.isRecentSearch)return"recent";else if(a.isScoped)return a.isNullStateSuggestion?"group_popular":"group_search";else if(a.isSeeMore)return"see_more";else return"suggested"}a=function(){function a(a){a=a||{},this.maxResults=a.maxResults||g}var b=a.prototype;b.bucketize=function(a,b){var c={},d=[],e=Math.min(a.length,this.maxResults);for(var f=0;f<e;f++){var g=a[f],i=h(g);if(!c[i]){var j=[];c[i]=j;d.push({headerType:i,results:j})}c[i].push(g)}c.suggested!=null&&b!=null&&c.suggested.splice(b-1,c.suggested.length-b);return d};return a}();f["default"]=a}),66);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a={pymk:h._("People You May Know"),recent:h._("Recent Searches"),popular:h._("Popular Searches"),suggested:h._("Searches"),top_matches:h._("Top Matches"),trending:h._("Trending"),group_popular:h._("Popular in this group"),group_search:h._("Search this group"),suggested_global:h._("Search all of Facebook")};b={pymk:h._("PEOPLE YOU MAY KNOW"),recent:h._("RECENT SEARCHES"),popular:h._("POPULAR SEARCHES"),suggested:h._("SEARCHES"),top_matches:h._("TOP MATCHES"),trending:h._("TRENDING"),group_popular:h._("POPULAR IN THIS GROUP"),group_search:h._("SEARCH THIS GROUP"),suggested_global:h._("SEARCH ALL OF FACEBOOK")};g.Labels=a;g.CapitalizedLabels=b}),98);
__d("MSearchSimplificationHeader",["cx","fbt","DOM","MGraphSearchTypeaheadHeaders","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){a=a.activityLogURI;a=d("DOM").create("a",{href:a,className:c("joinClasses")("touchable","_z-v")},i._("Edit"));a.setAttribute("data-edit-recent-searches","true");return d("DOM").create("div",{className:"_z-w"},[d("DOM").create("div",{className:"_z-z"},d("MGraphSearchTypeaheadHeaders").CapitalizedLabels.recent),a])}function a(a){var b=a.type,c=a.query,e=a.searchMode,f=a.isFirst;if(b==="recent")return j(a);if(c===""||e==="group")return d("DOM").create("div",{className:"_z-w"},d("DOM").create("div",{className:"_z-z"},d("MGraphSearchTypeaheadHeaders").CapitalizedLabels[b]));else if(!f)return d("DOM").create("div",{className:"_z--"});return null}g["default"]=a}),98);
__d("MSearchKeywordsConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}})}),null);
__d("MSearchSimplificationNullstateResult",["cx","DOM","HTML","Locale","MSearchKeywordsConst"],(function(a,b,c,d,e,f,g,h){"use strict";var i=" \xb7 ";function j(a){var b=a.result.id;if(b==null||String(b).match(/^[0-9]+$/)==null)return null;b=a.result.photo;return b==null?null:d("DOM").create("img",{className:"_1e86",src:b})}function k(a){var b=a.result,e=b.subtext,f=b.boldedSubtext,g=b.isVerified;b=b.showGrayCheck;a=a.result.display;var h;g&&(h=d("DOM").create("i",{className:"_1e87"}));var j;b&&(j=d("DOM").create("i",{className:"_1e88"}));g=[a];d("Locale").isRTL()&&g.push(new(c("HTML"))("&#8206;"));return d("DOM").create("div",{className:"_1e89"},[d("DOM").create("div",{className:"_7j7o"},d("DOM").create("span",{className:"_1e8b"},g),[h,j]),d("DOM").create("div",{className:"_1e8d"},[f,f&&e?i:null,e])])}function a(a){var b=a.result,e=b.id,f=b.isTrending,g=b.type;b=b.uriWithSession;g=g===c("MSearchKeywordsConst").keywordType;var h;(f||g)&&(h=d("DOM").create("i",{className:"_1e8e _7mty"}));f=d("DOM").create("a",{className:"touchable _1e8h",href:b,rel:e},[j(a),h,k(a)]);f.setAttribute("data-testid","nullstate_result_row");return f}g["default"]=a}),98);
__d("MSearchSimplificationSeeMoreRecentResultsButton",["cx","fbt","DOM"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(){return d("DOM").create("a",{className:"_4x4z"},[i._("See More"),d("DOM").create("span",{className:"_4x4-"})])}g["default"]=a}),98);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f["default"]=a}),66);
__d("MSearchSimplificationTypedResult",["cx","fbt","DOM","HTML","Locale","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){var b=a.result.isSeeMore,e=a.result.display;if(b)e=i._("See more results for \"{query}\"",[i._param("query",e)]);else{a=a.query;a=a.toLowerCase();!c("mayHaveConnectedCharacters")(e)&&e.indexOf(a)===0&&(e=[a,d("DOM").create("strong",{},e.slice(a.length,e.length))])}a=[e];!b&&d("Locale").isRTL()&&a.push(new(c("HTML"))("&#8206;"));return d("DOM").create("div",{className:"_7msg"},d("DOM").create("span",{className:"_7msl"},a))}function a(a){var b=a.result,c=b.id,e=b.isSeeMore,f=b.uriWithSession;b=b.fromRecentSearchCache;a=[j(a)];if(!e){b=d("DOM").create("i",{className:"_7msm"+(b?"":" _7msn")+(b?" _7mso":"")});a.unshift(b)}return d("DOM").create("a",{className:"touchable _io2"+(e?" _iop":""),href:f,rel:c},a)}g["default"]=a}),98);
__d("MRecentSearchesUpdater",["Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f){var g="search-recent-queries";a=function(){"use strict";function a(a){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(a.listen("change",this.changeQuery.bind(this)),a.listen("select",this.addRecentSearchWithSelection.bind(this)),a.listen("show",this.changeResults.bind(this)),a.listen("query",this.addRecentSearchWithQuery.bind(this)),a.listen("refreshRecent",this.refreshRecent.bind(this)))}var c=a.prototype;c.destroy=function(){this.$1.release()};c.refreshRecent=function(){b("Stratcom").invoke("refreshRecent",g,{})};c.changeQuery=function(a){this.currentQuery=a};c.changeResults=function(a){a.show?this.results=a.show.slice():this.results=a.slice()};c.addRecentSearchWithQuery=function(){b("Stratcom").invoke("addRecentQuery",g,{query:this.currentQuery})};c.addRecentSearchWithSelection=function(a){a=a&&(a.rel||a.getAttribute("rel"));if(!a){this.addRecentSearchWithQuery();return}for(var c=0;c<this.results.length;c++)this.results[c].id===a&&b("Stratcom").invoke("addRecentSearch",g,{result:this.results[c]})};return a}();e.exports=a}),null);
__d("XGroupSearchResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/search/{?searchtype}/",{source:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},groupID:{type:"Int"},searchtype:{type:"Enum",enumType:1},ref:{type:"String"}})}),null);
__d("MSearchSimplificationUtils",["MHistory","URI","XGroupSearchResultsController"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("^/(search/top|graphsearch/str.+/keywords_(top|search))"),i=new RegExp("^/(search|graphsearch|groups/search)"),j=new RegExp("^/(groups/search)"),k="/search-jewel/";function l(a){var b=c("MHistory").getPath();b=new(c("URI"))(b).getPath();return b.match(a)!=null}function a(a){return"keywords_search("+a+")"}function b(a){return new(c("URI"))("/search/top/").addQueryData("q",a)}function d(a,b){return c("XGroupSearchResultsController").getURIBuilder().setInt("groupID",a).setString("query",b).getURI()}function e(a){return a.getPath().match(i)!=null}function f(a){return a.getPath().match(h)!=null}function m(){return l(h)}function n(){return l(i)}function o(){return l(j)}function p(){var a=new(c("URI"))(c("MHistory").getPath());a=a.getPath();return a===k}function q(){return c("MHistory").getParam(c("MHistory").SOFT_STATE_KEY)==="search"}function r(){return c("MHistory").getParam(c("MHistory").SOFT_STATE_KEY)!=null}function s(){if(!n())return null;var a=new(c("URI"))(c("MHistory").getPath()),b=a.getQueryData();if(b.q!=null)return b.q;if(b.query!=null)return b.query;b=a.getPath();a=b.match(/\/graphsearch\/str\/([^\/]+)/);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}g.getKeywordSemantic=a;g.getKeywordURI=b;g.getGroupSearchURI=d;g.isSearchURI=e;g.isTopTabURI=f;g.isCurrentPathTopTabPath=m;g.isCurrentPathSERPPath=n;g.isCurrentPathScopedSearchPath=o;g.isCurrentPathSearchJewelPermalink=p;g.isTypeaheadOpen=q;g.isTabOverlayOpen=r;g.getQueryFromCurrentPath=s}),98);
__d("MSearchTypeaheadLogger",["invariant","DOM","MLegacyDataStore","MRequest","MTouchClick","Stratcom","SubscriptionsHandler","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3;function j(a){var b=[];for(var c=0;c<a.length;c++){var e=a[c],f=e.getAttribute("rel");if(f!=null){f={id:f};var g=e.getAttribute("type");g!=null&&(f.type=g);g=e.getAttribute("renderType");g!=null&&(f.renderType=g);g=d("DOM").find(e,"a","typeahead-result");e=d("MLegacyDataStore").get(g);g=g.getAttribute("data-extra");if(g!=null)try{g=JSON.parse(g)}catch(a){g={}}f=babelHelpers["extends"]({},f,e,g);b.push(f)}}return b}a=function(){function a(a,b){this.typeahead=a,this.uri=b,this.initialize(),this.emptyQueryResults=[],this.addSubscriptions()}var b=a.prototype;b.destroy=function(){this.subscriptions.release()};b.addSubscriptions=function(){var a=this,b=d("MTouchClick").hasTouchEvents()?"touchend":"click";this.subscriptions&&this.subscriptions.release();this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(this.typeahead.listen("focus",function(){var b=a.typeahead.getValue();b!=null||h(0,6223);a.startSession(b,{force:!0})}),this.typeahead.listen("change",function(b,c){c===void 0&&(c={}),c.preventSessionStart||a.startSession(b),a.sessionInProgress()&&(a.data.query=b)}),this.typeahead.listen("keypress",function(b){a.keypressed+=1}),this.typeahead.listen("select",function(b){var d=b&&(b.rel||b.getAttribute("rel"));a.data.query||(a.data.null_state=1);a.data.click_event=Date.now();d?a.data.selected_id=d:a.data.selected_search=1;a.results&&a.results.length&&a.data.query&&a.data.query.length&&c("Stratcom").invoke("m:search-typeahead:select",null,{node:b,results:a.results.slice(),query:a.data.query.slice()});a.logToServer()}),this.typeahead.listen("show",function(b,c){c===void 0&&(c={});if(!c.preventSessionStart){c=a.typeahead.getValue();c!=null||h(0,6223);a.startSession(c)}a.sessionInProgress()&&(b.show?(a.results=j(b.show),a.typeahead.getValue()||(a.emptyQueryResults=a.results)):(a.data.candidate_results=b.slice().filter(function(a){return!a.isInvalidated}),a.typeahead.getValue()||(a.emptyQueryResults=a.data.candidate_results)))}),this.typeahead.listen("query",function(b,c){a.data.selected_search=1,a.data.selected_type=c,a.logToServer()}),c("Stratcom").listen(b,"search-activator",function(){a.startSession("",{force:!0})}),c("Stratcom").listen(b,"graph-search-activator",function(){a.startSession("",{force:!0})}),c("Stratcom").listen("m:search:typeahead:activated",null,function(){a.startSession("",{force:!0})}),this.typeahead.listen("scroll",function(){a.data.scrolled=1}))};b.updateTypeahead=function(a){this.typeahead=a,this.addSubscriptions()};b.blur=function(a){var b=this;this.blurInProgress=!0;this.blurTimeout=c("setTimeoutAcrossTransitions")(function(){b.data.session_end_reason=a,b.data.query||(b.data.null_state=1),b.logToServer()},i)};b.startSession=function(a,b){b===void 0&&(b={}),this.sessionID==null&&(a||b.force)&&(this.data={},this.keypressed=0,this.sessionID=Math.random().toString(),this.data.query=a,this.data.session_start=Date.now(),c("Stratcom").invoke("m-typeahead-logger:new-session-id",null,{sessionID:this.sessionID,query:a}))};b.sessionInProgress=function(){return this.sessionID!==null&&!this.blurInProgress?!0:!1};b.logToServer=function(){c("clearTimeout")(this.blurTimeout);if(this.sessionID!=null){this.data.sid=this.sessionID;this.data.count_keys_pressed=this.keypressed;this.data.typeahead_type=this.typeahead.getTypeaheadType&&this.typeahead.getTypeaheadType();this.data.candidate_results=this.data.candidate_results||[];this.data.candidate_results.length===0&&(this.data.candidate_results=this.results);this.data.null_state_candidate_results=this.emptyQueryResults;this.data.last_state=this.getLastState(this.data.query,this.data.candidate_results);var a=new(c("MRequest"))(this.uri);a.setMethod("POST").setData({stats:JSON.stringify(this.data)}).send()}this.initialize()};b.getLastState=function(a,b){var c="typed";a=a.length===0&&b.every(function(a){return a.isNullStateSuggestion});a&&(c="null_state");return c};b.initialize=function(){this.data={},this.sessionID=null,this.keypressed=0,this.results=[],this.blurInProgress=!1};return a}();g["default"]=a}),98);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$MGraphSearchCompositeSource1=new Set(),b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.mergeResults=function(c,d){this.$MGraphSearchCompositeSource2(d);c=a.prototype.mergeResults.call(this,c,d);if(!c||!this.$MGraphSearchCompositeSource3||c.some(function(a){return a.type==="trending"})||c.some(function(a){return a.isRecentSearch})||c.some(function(a){return a.isPopularSearch}))return c;c.length=Math.min(c.length,this.$MGraphSearchCompositeSource3.maxResults);if(b("SearchMTouchGlobalOptions").keywordsOnlyEnabled){d=[];var e={};for(var f=c,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;e[i.id]||(e[i.id]=!0,d.push(i))}return d}if(this.$MGraphSearchCompositeSource3.enableLegacyStyleBucketization)return this.bucketResults(c);i=!1;h=c[0];h&&(h.bootstrapped||h.bootstrap||h.type==="user"&&h.cost<this.$MGraphSearchCompositeSource3.minCostForUserToSurfaceAtTop)&&(i=!0);g=!1;for(var f=0;f<this.$MGraphSearchCompositeSource3.maxPositionOfEntityToDivideKeywords;f++)c[f]&&c[f].type!=="keyword"&&(g=!0);e=[];d=[];h=[];var j;for(var f=0;f<c.length;f++){j=c[f];if(!(j.bootstrapped&&this.$MGraphSearchCompositeSource3.keepBootstrapped)&&j.type in this.$MGraphSearchCompositeSource3.filterOutTypes)continue;j.type==="keyword"?!i&&(!g||d.length<this.$MGraphSearchCompositeSource3.maxKeywordAboveEntities)?d.push(j):h.push(j):e.push(j)}if(this.$MGraphSearchCompositeSource3.overrideKWRankingBehavior){j=d;j.push.apply(j,h);i=j.slice(0,this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);f=j.slice(this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);c=i;(g=c).push.apply(g,e);if(this.$MGraphSearchCompositeSource3.hasKeywordsBelowEntities){(j=c).push.apply(j,f)}}else{c=d;(i=c).push.apply(i,e);(g=c).push.apply(g,h)}return c};d.bucketResults=function(a){if(!a.length)return a;var b,c,d=[],e={};for(var f=0,g=a.length;f<g;f++)b=a[f],c=this.getBucketType(b),!e[c]?(d.push(c),e[c]=[b]):e[c].push(b);return d.reduce(function(a,b){return a.concat(e[b])},[])};d.getBucketType=function(a){return a.type==="keyword"||a.is_grammar?"keyword":"entity"};d.setConfig=function(a){this.$MGraphSearchCompositeSource3=a};d.$MGraphSearchCompositeSource2=function(a){var b=this;a.forEach(function(a){a.isRecentSearch&&b.$MGraphSearchCompositeSource1.add(a.name),a.fromRecentSearchCache=b.$MGraphSearchCompositeSource1.has(a.name)})};return c}(b("TypeaheadCompositeSource"));e.exports=a}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(h," ")}function s(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d){var e=d[0];c.push(e);d=b.exec(a)}return c}function d(a,b){b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=d(b),u=d(function(a){return a},f);function e(a,b,d){var e=a=="query"||a=="query_punc",f=a=="aligned",g=a=="query_punc"?u:t;b=g(b,a=="prefix");var h=a=="prefix"?c("nullthrows")(b.sortedTokens):b.tokens,i=g(d).tokens,j={},k=b.isPrefixQuery&&(e||f)?h.length-1:null;g=function(b,c){for(var d=0;d<i.length;++d){var g=i[d];if(!j[d]&&(g==b||((e||f)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[d]=!0;if(f&&!j[d])return!1}return!1};return Boolean(h.length&&h.every(g))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:d,isExactMatch:e.bind(null,"exact"),isQueryMatch:e.bind(null,"query"),isQueryMatchIncludingPunctuations:e.bind(null,"query_punc"),isAlignedMatch:e.bind(null,"aligned"),isPrefixMatch:e.bind(null,"prefix"),tokenize:s};q=p;g["default"]=q}),98);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.type==="keyword",c=a.display,e=a.id,f=a.type;c=(a.display||a.text).toLowerCase();e=d("MSearchSimplificationUtils").getKeywordSemantic(c);b||(f="keyword");b=d("MSearchSimplificationUtils").getKeywordURI(c).toString();return{boldedSubtext:a.boldedSubtext,cost:a.cost,display:c,id:e,idx:a.idx,isScoped:a.is_scoped,isVerified:a.is_verified,keyword_type:a.keyword_type,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,logInfo:a.logInfo,name:a.text,photo:a.photo,showGrayCheck:a.show_gray_check,subtext:a.subtext,tokens:a.tokens,type:f,uri:b,verticalType:a.vertical_type,keywordSource:a.keywordSource}}g["default"]=a}),98);
__d("MGraphSearchTypeaheadOnDemandSource",["CurrentUser","MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","URI","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f){var g,h="graph-search-entry-point";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;d=d||{};e=a.call(this,c,d)||this;e.enableImmediateReturnOfCachedResults=!0;e.setNormalizer(function(a){return a.toLowerCase()});e.setSanitizer(function(a){return a});e.queryCache={};e.groupID=null;e.isScoped=!1;e.numResultsToFetch=d.numResultsToFetch;b("Stratcom").listen("setCurrentProfileID",h,function(a){var c=(g||(g=b("URI"))).getRequestURI(),d=c.getQueryData();d=d.groupID;(d!==void 0||c.getPath().startsWith("/groups/"))&&(e.groupID=a.getData().profileID,e.clearCache())});return e}var d=c.prototype;d.getMatchedResults=function(a){var c=a.toLowerCase();while(c.length>0&&!(c in this.queryCache))c=c.substr(0,c.length-1);if(!c)return[];var d=[];if(c===a){d=this.queryCache[a];return this.renderNodes(a,d)}for(var e=0;e<this.queryCache[c].length;e++){var f=this.queryCache[c][e];b("TokenizeUtil").isQueryMatch(a,this._raw[f].display)&&d.push(f)}return this.renderNodes(a,d)};d.addToLookup=function(a,b){this.addToQueryCache(a,b)};d.addResult=function(a,b){var c=a.uid;c in this._raw||(a=(this.getTransformer()||this._defaultTransformer)(a),this._raw[c]=a);this._raw[c].idx=a.idx;this.addToQueryCache(c,b)};d.addToQueryCache=function(a,b){this.queryCache[b]||(this.queryCache[b]=[]),this.queryCache[b].indexOf(a)===-1&&this.queryCache[b].push(a)};d.setGroupID=function(a){this.groupID=a};d.setIsScoped=function(a){this.isScoped=a};d.setSelectedIntent=function(a){this.selectedIntent=a};d.getAuxiliaryData=function(){var a={};this.isScoped&&this.groupID!=null&&(a.group_id=this.groupID);return babelHelpers["extends"]({max_results:this.numResultsToFetch},a)};d.tokenize=function(b){b=a.prototype.tokenize.call(this,b);b[b.length-1]===""&&b.pop();return b};d.ondata=function(c,d,e){e.payload.results?(d&&(d=d.toLowerCase()),a.prototype.ondata.call(this,c,d,b("createArrayFromMixed")(e.payload.results))):(this.invoke("req_recv",0),this.invoke("complete"))};d.getTransformer=function(){return b("SearchMTouchGlobalOptions").keywordsOnlyEnabled&&!b("CurrentUser").isWorkUser()?b("mSearchSimplificationResultTransformer"):function(a){if(a.type==="keyword"){var c={cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:a.untranslated_type||a.type,id:a.uid,uri:a.path,logInfo:a.logInfo,subtext:a.subtext,is_grammar:a.grammar_type!=null,isScoped:a.is_scoped,boldedSubtext:a.boldedSubtext,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,keyword_type:a.keyword_type},d=b("MSearchKeywordsConst").keywordTypes;Object.keys(b("MSearchKeywordsConst").keywordTypes).map(function(b){var e="is"+b.charAt(0).toUpperCase()+b.slice(1);c[e]=a.keyword_type===d[b]});b("MSearchKeywordsConst").intentKeys.map(function(a){c.isSpecialIntent=c.isSpecialIntent||c[a]});return c}return{name:a.text,uri:a.path,id:a.uid,display:a.display||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.untranslated_type||a.type,verticalType:a.vertical_type,subtext:a.subtext,isVerified:a.is_verified,showGrayCheck:a.show_gray_check,isWorkForeignEntity:a.is_work_foreign_entity,logInfo:a.logInfo,isWorkBot:a.is_work_bot}}};d.clearCache=function(){a.prototype.clearCache.call(this),this.queryCache={}};return c}(b("MTypeaheadOnDemandSource"));e.exports=a}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.setNormalizer(function(a){return a.toLowerCase()});return b}var d=c.prototype;d.renderNodes=function(b,c){if(this._shouldOnlyPrefixMatch){var d=[];for(var e=c,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=this._raw[h];i.display.toLowerCase().indexOf(b.toLowerCase())===0&&d.push(h)}c=d}return a.prototype.renderNodes.call(this,b,c)};d.checkFragmentMatches=function(a,b,c,d){if(a.substr(0,b.length)!==b)return!1;c=c[c.length-1]!==" ";return!c||b!==d?a==b:!0};d.tokenize=function(b){b=a.prototype.tokenize.call(this,b);b[b.length-1]===""&&b.pop();return b};d.setConvertEntityToKeyword=function(a){this.convertEntityToKeyword=a};d.getTransformer=function(){var a=this;return function(c){return a.convertEntityToKeyword?babelHelpers["extends"]({},b("mSearchSimplificationResultTransformer")(c),{bootstrapped:!0}):{name:c.text,uri:c.path,id:c.uid,display:c.display||c.text,photo:c.photo,category:c.category,cost:c.cost,idx:c.idx,tokens:c.tokens,type:c.untranslated_type||c.type,verticalType:c.vertical_type,subtext:c.text_only_subtext||c.subtext,logInfo:c.logInfo,bootstrapped:!0,saved_context:c.saved_context,render_type:c.render_type,isVerified:c.is_verified,showGrayCheck:c.show_gray_check,isWorkForeignEntity:c.is_work_foreign_entity,isWorkBot:c.is_work_bot,shouldShowAsIndividualResult:c.should_show_as_individual_result}}};d.setShouldOnlyPrefixMatch=function(a){this._shouldOnlyPrefixMatch=a};return c}(b("MTypeaheadTouchSource"));e.exports=a}),null);
__d("XLiveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/sports/{?query}/",{source:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},date:{type:"Int"},ref:{type:"String"},region_id:{type:"Int"},year:{type:"Int"},fref:{type:"String"}})}),null);
__d("MTypeaheadNullstateSource",["MTypeaheadTouchSource","Stratcom","URI","XLiveController","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g,h="graph-search-entry-point",i="search-recent-queries";a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d){var e;e=a.call(this,c,d)||this;b("Stratcom").listen("setCurrentProfileID",h,function(a){a=a.getData().profileID;if(a===e.profileID)return;e.profileID=a;e.refresh()});b("Stratcom").listen("addRecentSearch",i,function(a){a=a.getData().result;if(!a)return;e.addRecentResult(a)});b("Stratcom").listen("addRecentQuery",i,function(a){a=a.getData().query;if(!a)return;a=e.makeRecentResultWithQuery(a);e.addRecentResult(a)});b("Stratcom").listen("refreshRecent",i,function(){e.refresh()});b("Stratcom").listen("searchRefreshNullstate",null,function(){return e.refresh()});b("Stratcom").listen("m:search:refresh-nullstate-with-delay",null,function(){b("setTimeoutAcrossTransitions")(function(){e.refresh()},3e4)});return e}var d=c.prototype;d.makeRecentResultWithQuery=function(a){return{display:a,name:a,id:a,uri:"/search/top/?q="+a,type:"keyword"}};d.addRecentResult=function(a){var b;if(a.isTrending)return;a.idx=0;a.isRecentSearch=!0;b=(b={},b[a.id]=a,b);var c=0;for(var d in this._raw)d!=a.id&&(c++,this._raw[d].idx=c,b[d]=this._raw[d]);this._raw=b};d.refresh=function(){this._raw={},this.sendRequest()};d.getAuxiliaryData=function(){var a;return{disable_single_state:Boolean(this.singleStateDisabled),enable_scoped:Boolean(this.scopedEnabled),profile_id:(a=(a=this.profileID)!=null?a:this.groupID)!=null?a:null}};d.ondata=function(b){a.prototype.ondata.call(this,b)};d.matchResults=function(a){var b=[];a===""&&(b=Object.keys(this._raw));b.sort(j(this._raw));this.invoke("resultsready",this.renderNodes(a,b));this.invoke("complete")};d.setCurrentProfileID=function(a){this.profileID=a};d.setForceDisableSingleState=function(a){this.singleStateDisabled=a};d.setEnableScoped=function(a){this.scopedEnabled=a};d.getTransformer=function(){return function(a){if(a.keyword_type==="trending"){var c=new(g||(g=b("URI")))("/topic/trending/"+a.id);a.isSport&&(c=b("XLiveController").getURIBuilder().setString("query",String(a.id)).setString("ref","m_search_null_state").getURI());return{id:a.name,display:a.name,name:a.name,uri:c.toString(),topicID:a.id,trendingQueryID:a.trendingQueryID,subtext:a.articleTitle,type:"trending",photo:a.articleImageURI,actionTime:0,isTrending:!0,isNullStateSuggestion:!0}}if(["grammar","keyword"].includes(a.type)){c=new(g||(g=b("URI")))(a.path||a.uri);return{cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:"keyword",id:a.uid,uri:c.toString(),actionTime:a.action_time,isPYMK:a.pymk,isRecentSearch:a.recent_search,subtext:a.subtext,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search}}return{actionTime:a.action_time,name:a.text,uri:a.path||a.uri,id:a.uid||a.id,display:a.name||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.type[0].toUpperCase()+a.type.slice(1),verticalType:a.vertical_type,is_verified:a.is_verified,subtext:a.subtext,isPYMK:a.pymk,isRecentSearch:a.recent_search,logInfo:a.logInfo,isNullStateSuggestion:!0,isScoped:a.is_scoped,isPopularSearch:a.popular_search,isWorkForeignEntity:a.is_work_foreign_entity}}};return c}(b("MTypeaheadTouchSource"));function j(a){return function(b,c){b=a[b];c=a[c];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;c=isNaN(c.idx)?Number.MAX_VALUE:c.idx;return b-c}}e.exports=a}),null);
__d("MSearchTypeaheadNeueSources",["CurrentUser","MGraphSearchCompositeSource","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MSearchTypeaheadConfig","MTypeaheadNullstateSource","SearchMTouchGlobalOptions"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a){var b=a.searchMode,c;b!=null&&(c=h[b]);if(c)return c;a=i(a);b!=null&&(h[b]=a);return a}function i(a){var b=c("SearchMTouchGlobalOptions").queryThrottleTime,d=c("SearchMTouchGlobalOptions").enableQueryThrottle,e=c("SearchMTouchGlobalOptions").enableEagerSendRequest,f=c("SearchMTouchGlobalOptions").queryWaitTime,g=c("MSearchTypeaheadConfig").sources,h=[],i;g.bootstrapped&&a.searchMode!=="group"&&(i=l(g.bootstrapped.src,g.bootstrapped.source_key),i.setConvertEntityToKeyword(c("SearchMTouchGlobalOptions").keywordsOnlyEnabled&&!c("CurrentUser").isWorkUser()),i.setShouldOnlyPrefixMatch(c("SearchMTouchGlobalOptions").prefixMatchEntityBootstrap),g.bootstrapped.max_results!=null&&i.setMaximumResultCount(g.bootstrapped.max_results),i.setShowSecondaryAction(!0),i.clientRendered=!0,h.push(i));if(g.nullstate){var n=m(g.nullstate.src);n.setMaximumResultCount(g.nullstate.max_results);n.setShowSecondaryAction(!0);n.clientRendered=!0;n.setCurrentProfileID(a.currentProfileID);a.searchMode==="group"&&(n.setEnableScoped(!0),n.setCurrentProfileID(a.groupID));h.push(n)}n=g.online;n&&(i=k(a,n.src),i.setMaximumResultCount(n.max_results),i.setEnableImmediateReturnOfCachedResults(n.enable_caching),i.setMaxResults(c("MSearchTypeaheadConfig").numResultsToFetch),d&&i.setThrottleSendRequest(b),i.setEnableEagerSendRequest(e),i.setQueryDelay(f),i.setShowSecondaryAction(!0),i.clientRendered=!0,h.push(i));g=j(h);g.clientRendered=!0;g.mergeKey="id";g.didStart();return g}function j(a){a=new(c("MGraphSearchCompositeSource"))(a);a.setConfig(c("MSearchTypeaheadConfig").compositeSourceConfig);return a}function k(a,b){var d=c("MSearchTypeaheadConfig").disableLongerQueryCacheHit,e=c("MSearchTypeaheadConfig").numResultsToFetch;b=new(c("MGraphSearchTypeaheadOnDemandSource"))(b,{disableLongerQueryCacheHit:d,numResultsToFetch:e});a.searchMode==="group"&&(b.setIsScoped(!0),b.setGroupID(a.groupID));return b}function l(a,b){return new(c("MGraphSearchTypeaheadTouchSource"))(a,b)}function m(a){return new(c("MTypeaheadNullstateSource"))(a)}g.getOrCreate=a}),98);
__d("MSearchTypeaheadNeue",["csx","cx","fbt","BehaviorsMixin","CSS","CancelableEventListener","DOM","EventEmitter","EventListener","FBLogger","MGraphSearchTypeaheadBucketizer","MHistory","MJewels","MPageController","MRecentSearchesUpdater","MSearchConst","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadConfig","MSearchTypeaheadLogger","MSearchTypeaheadNeueSources","MSideNavMarauderLogger","MTouchClick","Parent","SearchMTouchGlobalOptions","Stratcom","SubscriptionsHandler","URI","mixin","runMaybeOnAfterTTI","setImmediate","throttle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k="/search/metrics.php",l="result";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$MSearchTypeaheadNeue8=!1;e.$MSearchTypeaheadNeue10=!1;e.$MSearchTypeaheadNeue11=!1;e.$MSearchTypeaheadNeue12=!1;e.$MSearchTypeaheadNeue13=!1;e.getTypeaheadType=function(){var a=c("MSearchTypeaheadConfig").keywordsOnlyEnabled;return a?"m_simplification":"m_graph_search"};e.$MSearchTypeaheadNeue34=function(){e.state.isShowingAllRecentResults=!0,e.$MSearchTypeaheadNeue37()};e.$MSearchTypeaheadNeue20=function(){var a=e.state.query;e.state.searchMode!=="group"&&(e.$MSearchTypeaheadNeue39("update",[a]),e.$MSearchTypeaheadNeue39("change",[a]))};e.onInputChange=function(){e.setQuery(e.$MSearchTypeaheadNeue14.value.trimLeft()),e.$MSearchTypeaheadNeue47(),e.$MSearchTypeaheadNeue6()};e.onInputBlur=function(){e.setInputFocused(!1)};e.onInputFocus=function(){var a=e.$MSearchTypeaheadNeue14.value;e.setQuery(a);e.setInputFocused(!0);e.setResultsListOpen(!0);c("MHistory").pushSoftState(d("MJewels").SEARCH);var b=new(c("URI"))(window.location),f=new(c("URI"))(e.props.activityLogURI);(e.$MSearchTypeaheadNeue10||b.getPath()===f.getPath())&&(e.$MSearchTypeaheadNeue10=!1,e.$MSearchTypeaheadNeue39("refreshRecent",[a]));if(e.$MSearchTypeaheadNeue8){b=d("MTouchClick").hasTouchEvents()?"touchend":"click";c("Stratcom").invoke(b,"graph-search-activator")}e.$MSearchTypeaheadNeue39("focus");e.$MSearchTypeaheadNeue39("change",[a])};e.onClearButtonEvent=function(a){a.prevent();a="";e.setQuery(a,!0);e.$MSearchTypeaheadNeue14.focus();e.$MSearchTypeaheadNeue39("update",[a])};e.$MSearchTypeaheadNeue32=function(a){a.prevent(),c("MHistory").popSoftState(d("MJewels").SEARCH)};e.$MSearchTypeaheadNeue29=function(a){var b=a.getTarget();if(!(b instanceof HTMLElement))return;var f=d("Parent").byTag(b,"a");if(f==null)return;var g=d("Parent").bySelector(f,"[data-edit-recent-searches]");if(g){e.$MSearchTypeaheadNeue41();return}a.prevent();g=e.$MSearchTypeaheadNeue48(b);if(g==null)return;a=e.$MSearchTypeaheadNeue49(g);e.setQuery(a);e.setResultsListOpen(!1);e.$MSearchTypeaheadNeue39("save-query",[a]);e.$MSearchTypeaheadNeue39("select",[f]);e.$MSearchTypeaheadNeue39("result-selected",[g]);e.$MSearchTypeaheadNeue50(new(c("URI"))(g.uriWithSession))};e.$MSearchTypeaheadNeue31=function(a){a.prevent();a=e.$MSearchTypeaheadNeue14.value;var b="";if(a==="")return;b=e.$MSearchTypeaheadNeue36(a).addQueryData("ref","content_filter").addQueryData("tsid",e.$MSearchTypeaheadNeue9).addQueryData("source","typeahead");e.$MSearchTypeaheadNeue39("on-enter-pressed",[b.toString()]);e.$MSearchTypeaheadNeue39("save-query",[a]);e.$MSearchTypeaheadNeue50(new(c("URI"))(b));e.$MSearchTypeaheadNeue14.blur();e.setQuery(a);e.setResultsListOpen(!1);e.$MSearchTypeaheadNeue39("query",[e.state.results])};e.$MSearchTypeaheadNeue30=function(a){e.$MSearchTypeaheadNeue14.blur()};e.$MSearchTypeaheadNeue26=function(){e.setIsWaiting(!0)};e.$MSearchTypeaheadNeue27=function(a){e.state.isResultsListOpen&&e.$MSearchTypeaheadNeue39("render_start");a=Array.from(a);a.forEach(function(a){a.uri=new(c("URI"))(a.uri).addQueryData("refid",d("MSearchConst").refid).toString()});var b=e.state,f=b.query;b=b.searchMode;f!==""&&b==="global"&&(a=e.$MSearchTypeaheadNeue35(a));e.state.results=a;e.$MSearchTypeaheadNeue37()};e.$MSearchTypeaheadNeue28=function(){e.setIsWaiting(!1)};e.$MSearchTypeaheadNeue45=function(a){e.$MSearchTypeaheadNeue51!=null&&e.$MSearchTypeaheadNeue51.startSession(a.getData().sessionID,a.getData().query);var b=e.$MSearchTypeaheadNeue15;if(b==null)return;var f=d("DOM").scry(b,"input","search-typeahead-session-id")[0];f||(f=document.createElement("input"),f.type="hidden",f.name="tsid",b.appendChild(f),c("Stratcom").addSigil(f,"search-typeahead-session-id"));b=a.getData().sessionID;f.value=b;e.$MSearchTypeaheadNeue9=b};e.props=b;e.state={query:b.initialQuery,results:[],isShowingAllRecentResults:!1,isWaiting:!1,searchMode:e.getInitialSearchMode(),isInputFocused:!1,groupID:e.$MSearchTypeaheadNeue19(),groupName:e.props.groupName};e.$MSearchTypeaheadNeue5=new(c("EventEmitter"))();e.$MSearchTypeaheadNeue2=new(c("SubscriptionsHandler"))();e.$MSearchTypeaheadNeue3=new(c("MGraphSearchTypeaheadBucketizer"))({maxResults:c("MSearchTypeaheadConfig").compositeSourceConfig.maxResults});e.$MSearchTypeaheadNeue6=c("throttle")(e.$MSearchTypeaheadNeue20,200);e.$MSearchTypeaheadNeue11=c("MSearchTypeaheadConfig").sources.online!=null&&c("SearchMTouchGlobalOptions").redirectPages;e.$MSearchTypeaheadNeue21();e.$MSearchTypeaheadNeue22();c("runMaybeOnAfterTTI")(function(){e.initBehaviors(e.props.behaviors)});c("Stratcom").invoke("m:graph-search:ready");return e}var e=b.prototype;e.$MSearchTypeaheadNeue21=function(){var a=this.props.root;this.$MSearchTypeaheadNeue15=this.$MSearchTypeaheadNeue23();d("DOM").appendContent(a,this.$MSearchTypeaheadNeue15);this.$MSearchTypeaheadNeue16=d("DOM").create("div",{className:"_5-lw"});d("DOM").appendContent(a,this.$MSearchTypeaheadNeue16)};e.$MSearchTypeaheadNeue23=function(){this.$MSearchTypeaheadNeue14=d("DOM").create("input",{id:"main-search-input","data-sigil":"search-small-box",className:"_5-lx",type:"search",name:"query",placeholder:String(this.$MSearchTypeaheadNeue24()),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",value:this.state.query});this.$MSearchTypeaheadNeue17=d("DOM").create("a",{href:"#",className:"_5-ly",role:"button"},j._("Clear"));!c("MSearchTypeaheadConfig").keywordsOnlyEnabled?this.$MSearchTypeaheadNeue18=null:this.$MSearchTypeaheadNeue18=d("DOM").create("a",{href:"#",className:"_3k_n"},j._("Cancel"));return d("DOM").create("form",{className:"_13e_",action:"/search/top/"},[d("DOM").create("div",{className:"_13fn"},[d("DOM").create("i",{className:"_7mt-"}),this.$MSearchTypeaheadNeue14,d("DOM").create("label",{htmlFor:"main-search-input",className:"_13fo"},j._("Search")),this.$MSearchTypeaheadNeue17]),this.$MSearchTypeaheadNeue18])};e.getValue=function(){return this.$MSearchTypeaheadNeue14.value};e.getSessionID=function(){return this.$MSearchTypeaheadNeue9};e.$MSearchTypeaheadNeue25=function(a){this.$MSearchTypeaheadNeue4=a,this.$MSearchTypeaheadNeue7=new(c("SubscriptionsHandler"))(),this.$MSearchTypeaheadNeue7.addSubscriptions(a.listen("req_dispatch",this.$MSearchTypeaheadNeue26),a.listen("resultsready",this.$MSearchTypeaheadNeue27),a.listen("after_complete",this.$MSearchTypeaheadNeue28)),a.bindToTypeahead(this)};e.$MSearchTypeaheadNeue22=function(){var a=this;this.$MSearchTypeaheadNeue2.addSubscriptions(d("DOM").listen(this.$MSearchTypeaheadNeue16,"click",null,this.$MSearchTypeaheadNeue29),d("CancelableEventListener").listen(this.$MSearchTypeaheadNeue16,"touchmove",null,this.$MSearchTypeaheadNeue30),d("CancelableEventListener").listen(this.$MSearchTypeaheadNeue16,"touchstart",null,this.$MSearchTypeaheadNeue30),d("DOM").listen(this.$MSearchTypeaheadNeue14,"focus",null,this.onInputFocus),d("DOM").listen(this.$MSearchTypeaheadNeue14,"blur",null,this.onInputBlur),d("DOM").listen(this.$MSearchTypeaheadNeue17,"mousedown",null,this.onClearButtonEvent),d("CancelableEventListener").listen(this.$MSearchTypeaheadNeue17,"touchstart",null,this.onClearButtonEvent),d("DOM").listen(this.$MSearchTypeaheadNeue15,"submit",null,this.$MSearchTypeaheadNeue31));this.$MSearchTypeaheadNeue2.addSubscriptions(d("DOM").listen(this.$MSearchTypeaheadNeue14,"keyup",null,this.onInputChange));this.$MSearchTypeaheadNeue2.addSubscriptions(c("EventListener").listen(this.$MSearchTypeaheadNeue14,"paste",function(){return c("setImmediate")(function(){return a.onInputChange()})}));this.$MSearchTypeaheadNeue18!=null&&this.$MSearchTypeaheadNeue2.addSubscriptions(d("DOM").listen(this.$MSearchTypeaheadNeue18,"click",null,this.$MSearchTypeaheadNeue32))};e.$MSearchTypeaheadNeue33=function(a){d("DOM").listen(a,"click",null,this.$MSearchTypeaheadNeue34)};e.$MSearchTypeaheadNeue35=function(a){var b=this.state.query;b={id:d("MSearchSimplificationUtils").getKeywordSemantic(b),type:"keyword",isSeeMore:!0,display:b,uri:this.$MSearchTypeaheadNeue36(b).toString(),keyword_type:"escape"};a.push(b);return a};e.$MSearchTypeaheadNeue37=function(){var a=this,b=c("MSearchTypeaheadConfig").keywordsOnlyEnabled,e=c("MSearchTypeaheadConfig").keywordBucketSize,f=c("MSearchTypeaheadConfig").defaultNumTopResultsToShow,g=c("MSearchTypeaheadConfig").initialNumRecentResultsToShow,h=this.state.results,i=this.state,j=i.query,k=i.searchMode,l=this.$MSearchTypeaheadNeue3.bucketize(h,b?e:f),m=[],n=[];i=-1;h=l.find(function(a){return a.headerType==="recent"});var o=[];b=h?h.results.length:0;var p=0;h&&b>g&&!this.state.isShowingAllRecentResults&&h.results.splice(g);var q=[];l.forEach(function(b,c){var d=b.headerType;b=b.results;d==="suggested"&&"group_search"in l&&(d="suggested_global");if(j.length===0||c<l.length-1){c=a.props.renderers.Header({activityLogURI:a.props.activityLogURI,isFirst:c===0,query:j,searchMode:k,type:d});c!=null&&o.push(c)}d=b.map(function(c,b){q.push(c);a.state.isVisible&&c.isTrending&&c.isNullStateSuggestion&&(m[p]=c.topicID,n[p]=p+1,i=c.trendingQueryID);return a.$MSearchTypeaheadNeue38(c)});o.push.apply(o,d)});this.$MSearchTypeaheadNeue39("show",[q,{preventSessionStart:!0}]);if(m.length>0&&!this.$MSearchTypeaheadNeue1){this.$MSearchTypeaheadNeue1=new(c("SubscriptionsHandler"))();(e=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(e,d("MSearchTrendingLogger").registerTrendingTopicListeners(m,d("MSearchConst").msite_news_null_state,n,i));d("MSearchTrendingLogger").logTrendingTopicImpressions(m,d("MSearchConst").msite_news_null_state,n,i)}else this.$MSearchTypeaheadNeue1!=null&&(this.$MSearchTypeaheadNeue1.release(),this.$MSearchTypeaheadNeue1=null);d("DOM").empty(this.$MSearchTypeaheadNeue16);d("DOM").appendContent(this.$MSearchTypeaheadNeue16,o);this.state.isResultsListOpen&&this.$MSearchTypeaheadNeue39("rendered")};e.$MSearchTypeaheadNeue38=function(a){var b=this.state.results.indexOf(a);a.uri&&(this.$MSearchTypeaheadNeue11&&a.type=="page"?a.uriWithSession=new(c("URI"))("/search/").addQueryData({query:a.name,tsid:this.$MSearchTypeaheadNeue9,source:l}).toString():a.uriWithSession=new(c("URI"))(a.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue9,source:l}).toString());a.isTrending&&(a.uriWithSession=new(c("URI"))(a.uriWithSession).addQueryData("position",b+1).toString());b=this.$MSearchTypeaheadNeue40(a);b=b({query:this.state.query,result:a});a.isSeeMoreRecentResults&&this.$MSearchTypeaheadNeue33(b);return b};e.$MSearchTypeaheadNeue40=function(a){if(a.isNullStateSuggestion)return this.props.renderers.NullstateResult;return a.isSeeMoreRecentResults?this.props.renderers.SeeMoreRecentResultsButton:this.props.renderers.TypedResult};e.$MSearchTypeaheadNeue41=function(){this.$MSearchTypeaheadNeue10=!0};e.$MSearchTypeaheadNeue42=function(a){if(this.$MSearchTypeaheadNeue4!=null&&!a)return;this.$MSearchTypeaheadNeue7&&this.$MSearchTypeaheadNeue7.release();this.$MSearchTypeaheadNeue4&&this.$MSearchTypeaheadNeue4.unbindFromTypeahead();a=d("MSearchTypeaheadNeueSources").getOrCreate({searchMode:this.state.searchMode,currentProfileID:this.props.currentProfileID,groupID:this.state.groupID});this.$MSearchTypeaheadNeue25(a)};e.$MSearchTypeaheadNeue43=function(){if(this.$MSearchTypeaheadNeue12)return;this.$MSearchTypeaheadNeue2.addSubscriptions(d("MSideNavMarauderLogger").setupTypeaheadListener(this));this.$MSearchTypeaheadNeue12=!0};e.$MSearchTypeaheadNeue44=function(){if(this.$MSearchTypeaheadNeue13)return;var a=new(c("MSearchTypeaheadLogger"))(this,k);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(c("Stratcom").listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue45));this.$MSearchTypeaheadNeue13=!0;this.$MSearchTypeaheadNeue2.addSubscriptions(c("Stratcom").listen("log-m-search-session-end",null,function(b){a.blur(b.getData().reason)}))};e.$MSearchTypeaheadNeue46=function(){if(c("MSearchTypeaheadConfig").hasRecentSearches){var a=new(c("MRecentSearchesUpdater"))(this);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}})}};e.$MSearchTypeaheadNeue47=function(){var a=this.$MSearchTypeaheadNeue14.value;this.$MSearchTypeaheadNeue39("keypress",[a])};e.listen=function(a,b){var c=this.$MSearchTypeaheadNeue5.addListener(a,b);return{type:a,callback:b,remove:function(){c.remove()}}};e.$MSearchTypeaheadNeue39=function(a,b){var c;b===void 0&&(b=[]);(c=this.$MSearchTypeaheadNeue5).emit.apply(c,[a].concat(b))};e.$MSearchTypeaheadNeue36=function(a){a=a.trim();var b=this.state.groupID;return b&&this.state.searchMode==="group"?d("MSearchSimplificationUtils").getGroupSearchURI(b,a):d("MSearchSimplificationUtils").getKeywordURI(a)};e.$MSearchTypeaheadNeue19=function(){var a=new(c("URI"))(window.location);return a.getQueryData().groupID};e.$MSearchTypeaheadNeue49=function(a){return a!=null&&a.type==="keyword"?a.display:""};e.$MSearchTypeaheadNeue48=function(a){var b=d("Parent").byTag(a,"a");a=null;b!=null&&(a=this.state.results.find(function(a){return String(a.id)===String(b.getAttribute("rel"))}));return a};e.$MSearchTypeaheadNeue52=function(a){return a.getQueryData().groupID?"group":null};e.getInitialSearchMode=function(){var a=new(c("URI"))(window.location);a=this.$MSearchTypeaheadNeue52(a);return a!=null?a:"global"};e.$MSearchTypeaheadNeue24=function(){var a=this.state,b=a.groupName;a=a.searchMode;if(a==="group"){b==null&&c("FBLogger")("search").mustfix("Group name required for group search mode placeholder");return j._("Search in {groupName}",[j._param("groupName",b)])}else return j._("Search")};e.$MSearchTypeaheadNeue50=function(a){d("MPageController").load(a)};e.setSearchMode=function(a,b,d){var e=this.state.searchMode!==a;if(!e)return;this.state=babelHelpers["extends"]({},this.state,{searchMode:a});a==="group"&&b!=null&&d!=null&&(this.state.groupName=b,this.state.groupID=d);this.$MSearchTypeaheadNeue8&&(this.$MSearchTypeaheadNeue42(!0),this.$MSearchTypeaheadNeue20());a==="group"&&(this.state.groupName==null||this.state.groupID==null)&&c("FBLogger")("search").mustfix("Group name required for group search mode");this.$MSearchTypeaheadNeue14.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue24()))};e.isVisible=function(){return!!this.state.isVisible};e.setVisibility=function(a){var b=this.state.isVisible!==a;this.state.isVisible=a;if(b&&this.state.isVisible&&!this.$MSearchTypeaheadNeue8){this.$MSearchTypeaheadNeue42();this.$MSearchTypeaheadNeue43();this.$MSearchTypeaheadNeue44();this.$MSearchTypeaheadNeue46();a=d("MTouchClick").hasTouchEvents()?"touchend":"click";c("Stratcom").invoke(a,"graph-search-activator");this.$MSearchTypeaheadNeue39("change",[this.$MSearchTypeaheadNeue14.value]);this.$MSearchTypeaheadNeue8=!0}b&&(this.$MSearchTypeaheadNeue39("visibility-changed",[!!this.state.isVisible]),c("CSS").conditionClass(this.props.root,"_13gt",!this.state.isVisible))};e.isResultsListOpen=function(){return!!this.state.isResultsListOpen};e.setResultsListOpen=function(a){var b=a!==this.state.isResultsListOpen;this.state.isResultsListOpen=a;a=this.props.root;b&&c("CSS").conditionClass(a,"_7n0e",!this.state.isResultsListOpen);b&&!this.state.isResultsListOpen&&(this.$MSearchTypeaheadNeue14.blur(),this.$MSearchTypeaheadNeue39("closed"))};e.setIsWaiting=function(a){var b=a!==this.state.isWaiting;this.state.isWaiting=a;b&&c("CSS").conditionClass(this.props.root,"_13gv",this.state.isWaiting)};e.setQuery=function(a,b,c){b===void 0&&(b=!1),this.state.query=a,this.$MSearchTypeaheadNeue14.value!==this.state.query&&(this.$MSearchTypeaheadNeue14.value=this.state.query),this.state.query&&this.state.isInputFocused?d("DOM").show(this.$MSearchTypeaheadNeue17):d("DOM").hide(this.$MSearchTypeaheadNeue17),b&&this.$MSearchTypeaheadNeue39("change",[a,c])};e.setInputFocused=function(a){this.state.isInputFocused=a,this.state.query&&this.state.isInputFocused?d("DOM").show(this.$MSearchTypeaheadNeue17):d("DOM").hide(this.$MSearchTypeaheadNeue17)};e.focusInput=function(){this.$MSearchTypeaheadNeue14.focus()};e.release=function(){this.$MSearchTypeaheadNeue2.release()};e.initBehaviors=function(a){var b=this;a.forEach(function(a){b.enableBehavior(a)})};e.getRoot=function(){return this.props.root};return b}(c("mixin")(c("BehaviorsMixin")));g["default"]=a}),98);
__d("MSearchTypeaheadNeueFlyout",["CSS","DOM","MHistory","MJewel","MJewels","MSearchTypeaheadNeue","MTouchClick","Stratcom","SubscriptionsHandler","URI","findTag","ge","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("^/(search|graphsearch|topic/trending|groups/search)");a=function(){function a(a){var b=this;this.$8=function(a){var b=c("ge")(c("MJewel").JEWEL_NAV_NODE_ID);if(b!=null){b=d("DOM").scry(b,"*","search")[0];b&&c("CSS").conditionClass(b,"isActive",a)}};this.$9=function(){b.typeaheadInstance.isResultsListOpen()&&c("CSS").hide(c("findTag")("root","div"))};this.$11=function(){c("CSS").show(c("findTag")("root","div"))};this.$5=function(a){var c=a.getTarget();if(!(c instanceof HTMLElement))return;var d=c.getAttribute("data-ft");c=c.getAttribute("data-name");if(!d||!c)return;a.prevent();b.typeaheadInstance.setSearchMode("group",c,d);b.typeaheadInstance.setResultsListOpen(!0);b.typeaheadInstance.state.results=[];b.typeaheadInstance.setVisibility(!0);b.typeaheadInstance.focusInput()};this.$3=function(){var a=c("MHistory").getPath(),d=c("MHistory").getParam(c("MHistory").SOFT_STATE_KEY),e=d==="search";a=new(c("URI"))(a).getPath();a=a.match(h)!=null;a=e||a&&(d==null||e);d=a?b.$2:"";a&&e&&c("Stratcom").invoke("m:graph-search:rendered");b.typeaheadInstance.setQuery(d);b.typeaheadInstance.setVisibility(a);b.typeaheadInstance.setResultsListOpen(e);e&&b.typeaheadInstance.focusInput()};this.$7=function(){c("Stratcom").invoke("log-m-search-session-end",null,{reason:"navigated_away"}),b.typeaheadInstance.$12!=null&&b.typeaheadInstance.$12.endSession(),b.typeaheadInstance.setSearchMode(b.typeaheadInstance.getInitialSearchMode())};this.$6=function(a){a=a.getData().title||"";b.typeaheadInstance.isResultsListOpen()||(b.typeaheadInstance.setQuery(a,!0,{preventSessionStart:!0}),b.typeaheadInstance.setSearchMode(b.typeaheadInstance.getInitialSearchMode()),b.typeaheadInstance.setVisibility(a!==""));b.$10(a)};this.$10=function(a){b.$2=a};this.$1=new(c("SubscriptionsHandler"))();this.typeaheadInstance=new(c("MSearchTypeaheadNeue"))(a);this.$2=a.initialQuery||"";this.$3();this.$4()}var b=a.prototype;b.$4=function(){this.$1.addSubscriptions(c("Stratcom").listen(d("MTouchClick").hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$5),c("Stratcom").listen("m:history:change",null,this.$3),c("Stratcom").listen("setSearchText","graph-search-entry-point",this.$6),c("Stratcom").listen("m:chrome:tab:hide",d("MJewels").SEARCH,this.$7),this.typeaheadInstance.listen("visibility-changed",this.$8),this.typeaheadInstance.listen("rendered",c("throttle")(this.$9,500)),this.typeaheadInstance.listen("save-query",this.$10),this.typeaheadInstance.listen("closed",this.$11),c("Stratcom").listen("m:page:render:complete",null,this.$9))};a.init=function(b){return new a(b)};return a}();g["default"]=a}),98);
__d("getEarlyResources",[],(function(a,b,c,d,e,f){"use strict";function a(){return Array.from(document.querySelectorAll("head script[data-bootloader-hash]"))}f["default"]=a}),66);
__d("getInvisibleIframe",["DOM"],(function(a,b,c,d,e,f,g){"use strict";function a(b,d){var e=c("DOM").create("iframe",{width:0,height:0,frameborder:0,scrolling:"no","aria-hidden":"true",style:{opacity:0,pointerEvents:"none",position:"absolute"}});b!==void 0&&e.setAttribute("src",b);d&&(e.onload=d);c("DOM").appendContent(document.body,e);function f(b){b.__annotator=function(a){return a},b.__d_stub=[],b.__d=function(){b.__d_stub.push(arguments)}}function g(b){b.onerror=function(a,b,c,d,e){return!0}}f(e.contentWindow);g(e.contentWindow);return e}g["default"]=a}),98);
__d("ResourcesRefetcher",["Arbiter","DOM","PageEvents","getEarlyResources","getInvisibleIframe"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=0,j=null;function k(b){var a=l();h=b.length;for(var d=0;d<b.length;d++){var e=c("DOM").create("script",{src:b[d].getAttribute("src"),crossorigin:"anonymous"});e.onload=function(){m()};c("DOM").appendContent(a.contentDocument.head,e)}}function l(){j===null&&(j=c("getInvisibleIframe")());return j}function a(a){c("Arbiter").subscribeOnce(c("PageEvents").BIGPIPE_ONLOAD,function(){var b=c("getEarlyResources")();a.allEF||(b=b.slice(0,1));k(b)})}function m(){if(++i<h)return;j&&(c("DOM").remove(j),j=null,i=0)}g.refetchScripts=k;g._getIframe=l;g.refetchOnLoad=a;g.checkForFinished=m}),98);
__d("NavigationMetricsEnumJS",[],(function(a,b,c,d,e,f){a=Object.freeze({NAVIGATION_START:"navigationStart",UNLOAD_EVENT_START:"unloadEventStart",UNLOAD_EVENT_END:"unloadEventEnd",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",CONNECT_END:"connectEnd",SECURE_CONNECTION_START:"secureConnectionStart",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd",DOM_LOADING:"domLoading",DOM_INTERACTIVE:"domInteractive",DOM_CONTENT_LOADED_EVENT_START:"domContentLoadedEventStart",DOM_CONTENT_LOADED_EVENT_END:"domContentLoadedEventEnd",DOM_COMPLETE:"domComplete",LOAD_EVENT_START:"loadEventStart",LOAD_EVENT_END:"loadEventEnd"});f["default"]=a}),66);
__d("NavigationTimingHelper",["NavigationMetricsEnumJS","forEachObject","performance"],(function(a,b,c,d,e,f,g){function h(a,b){var d={};c("forEachObject")(c("NavigationMetricsEnumJS"),function(c){var e=b[c];e&&(d[c]=e+a)});return d}function a(a){if(!a||!c("performance").timing||!c("performance").getEntriesByName)return void 0;a=c("performance").getEntriesByName(a);return a.length===0?void 0:h(c("performance").timing.navigationStart,a[0])}function i(){if(!c("performance").timing||!c("performance").getEntriesByType)return{};var a=c("performance").getEntriesByType("navigation");return!a.length?{}:h(c("performance").timing.navigationStart,a[0])}function b(){if(!c("performance").timing)return void 0;var a=babelHelpers["extends"]({},h(0,c("performance").timing),i());return h(0,a)}g.getAsyncRequestTimings=a;g.getPerformanceNavigationTiming=i;g.getNavTimings=b}),98);
__d("PerfXFlusher",["invariant","Banzai"],(function(a,b,c,d,e,f,g){var h="perfx_custom_logger_endpoint",i=["perfx_page","perfx_page_type","lid"];function j(a){i.forEach(function(b){return g(b in a,'PerfXFlusher: Field "%s" missing in the PerfX payload',b)})}a={flush:function(a){j(a),b("Banzai").post(h,a,{signal:!0})},registerToSendWithBeacon:function(a){b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){var c=a();c.length&&b("Banzai").post(h,c,{delay:b("Banzai").VITAL_WAIT})})}};c=a;f["default"]=c}),66);
__d("QuicklingRefreshOverheadUtil",["QuicklingConfig","WebStorage","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";var g,h,i=null,j=1e4;a={onQuicklingStart:function(){i=(g||(g=b("performanceAbsoluteNow")))()},onQuicklingVersionMatch:function(){i=null},onQuicklingRefreshStart:function(){if(!b("QuicklingConfig").logRefreshOverhead||i===null)return;var a=(h||(h=b("WebStorage"))).getSessionStorage();if(!a)return;a.setItem("quickling_refresh_overhead",((g||(g=b("performanceAbsoluteNow")))()-i).toString());a.setItem("quickling_refresh_start",Date.now().toString())},getOverhead:function(a){if(!b("QuicklingConfig").logRefreshOverhead)return null;var c=(h||(h=b("WebStorage"))).getSessionStorageForRead();if(!c)return null;var d=c.getItem("quickling_refresh_start");if(d==null)return null;if(a-parseInt(d,10)>j)return null;a=c.getItem("quickling_refresh_overhead");return a!=null?parseFloat(a):null}};e.exports=a}),null);
__d("pageLoadedViaSWCache",[],(function(a,b,c,d,e,f){function a(){return self.__SW_CACHE__===1}f["default"]=a}),66);
__d("PerfXLogger",["DataAttributeUtils","NavigationMetrics","NavigationTimingHelper","ODS","PerfXFlusher","PerfXSharedFields","QuicklingRefreshOverheadUtil","VisibilityListener","forEachObject","pageLoadedViaSWCache","performanceAbsoluteNow","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g,h={},i={},j=65*1e3,k=["e2e","tti","all_pagelets_displayed","all_pagelets_loaded","artillery_disable_time"],l={},m={_listenersSetUp:!1,_uploadEarly:!1,_alreadyUploadedEarly:!1,_setupListeners:function(){if(m._listenersSetUp)return;m._subscribeToNavigationMetrics();b("PerfXFlusher").registerToSendWithBeacon(function(){var a=[];b("forEachObject")(h,function(b,c){if(!h[c].sent){b=m.getPayload(c,"unload fired");b!=null&&a.push(b)}});h={};return a});m._listenersSetUp=!0},_init:function(a){var b=a.lid;if(b==null)return;m._alreadyUploadedEarly=!1;m._uploadEarly=!!a.upload_perfx_early;delete a.upload_perfx_early;var c=i[b]||[];delete i[b];if(a.sw_controlled_tags){if(navigator.serviceWorker&&navigator.serviceWorker.controller)for(var d=0;d<a.sw_controlled_tags.length;d++)c.push(a.sw_controlled_tags[d]);delete a.sw_controlled_tags}h[b]=babelHelpers["extends"]({tags:new Set(c),sent:!1},a);m._registerTimeoutSendback(b);m._setupListeners()},initWithNavigationMetricsLID:function(a,c){var d=b("NavigationMetrics").getFullPageLoadLid();if(!d)return;m._init(babelHelpers["extends"]({},c,{lid:d}));if(a&&a.always)for(var c=0;c<a.always.length;c++)m.addTag(d,a.always[c]);if(a&&a.swCache&&b("pageLoadedViaSWCache")())for(var c=0;c<a.swCache.length;c++)m.addTag(d,a.swCache[c])},init:function(a,b){b!=null&&a.lid!=null&&(l[a.lid]=b),m._init(a)},addTag:function(a,c){m._alreadyUploadedEarly&&b("ODS").bumpEntityKey(2966,"PerfXLateTag",c);var d=h[a];if(d){d.tags.add(c);return}i[a]||(i[a]=[]);i[a].push(c)},addTagWithNavigationMetricsLID:function(a){m._alreadyUploadedEarly&&b("ODS").bumpEntityKey(2966,"PerfXLateTag",a);var c=b("NavigationMetrics").getFullPageLoadLid();if(!c)return;m.addTag(c,a)},_registerTimeoutSendback:function(a){var c=m._getFetchStart(a),d=j;c!=null&&(d-=(g||(g=b("performanceAbsoluteNow")))()-c);b("setTimeoutAcrossTransitions")(function(){return m._uploadPayload(a,"sendback time out")},d)},_subscribeToNavigationMetrics:function(){var a;(a=b("NavigationMetrics")).addRetroactiveListener(a.Events.EVENT_OCCURRED,function(a,b){if(!(a in h))return;k.includes(b.event)&&Object.prototype.hasOwnProperty.call(b,"timestamp")&&b.timestamp!=null&&(h[a][b.event]=b.timestamp);b.event==="all_pagelets_displayed"&&m._uploadEarly&&(k.forEach(function(c){Object.prototype.hasOwnProperty.call(b,c)&&b[c]!=null&&(h[a][c]=b[c])}),m._uploadPayload(a),m._alreadyUploadedEarly=!0)});a.addRetroactiveListener(a.Events.NAVIGATION_DONE,function(a,b){var c=b.serverLID;if(!(c in h))return;k.forEach(function(a){Object.prototype.hasOwnProperty.call(b,a)&&b[a]!=null&&(h[c][a]=b[a])});m._uploadPayload(c)})},_getPayloadWithOffset:function(a,c,d){a=h[a];if(a==null)return null;var e=babelHelpers["extends"]({},a),f=document.querySelector('[id^="hyperfeed_story_id"]');if(f){f=JSON.parse(b("DataAttributeUtils").getDataFt(f));f&&(e.mf_query_id=f.qid)}e.tags=Array.from(a.tags);m._adjustValues(e,c);e.fetch_start=c;if(e.perfx_page_type==="normal"){f=b("NavigationTimingHelper").getNavTimings();f!=null&&f.navigationStart!=null&&(e.nav_to_fetch=c-f.navigationStart);a=b("QuicklingRefreshOverheadUtil").getOverhead(c);a!==null&&(e.quickling_refresh_overhead=a)}d!=null&&(e.sendback_reason=d);b("PerfXSharedFields").addCommonValues(e);b("VisibilityListener").supported()&&e.fetch_start&&e.all_pagelets_displayed&&e.tti&&e.e2e&&(e.tab_hidden_time_dd=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.all_pagelets_displayed),e.tab_hidden_time_tti=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.tti),e.tab_hidden_time_e2e=b("VisibilityListener").getHiddenTime(e.fetch_start,e.fetch_start+e.e2e));window&&window.location&&window.location.pathname&&(e.request_uri=window.location.pathname);delete e.sent;return e},_uploadPayload:function(a,c){if(h[a]!=null&&!h[a].sent){c=m.getPayload(a,c);c!=null&&(b("PerfXFlusher").flush(c),h[a].sent=!0)}},getPayload:function(a,b){return m._getPayloadWithOffset(a,m._getFetchStart(a),b)},_getFetchStart:function(a){if(!(a in h))return null;var c=h[a].perfx_page_type;if(c=="quickling")if(!(a in l))return null;else c=b("NavigationTimingHelper").getAsyncRequestTimings(l[a]);else c=b("NavigationTimingHelper").getNavTimings();return!c||!c.fetchStart?null:c.fetchStart},_adjustValues:function(a,b){k.forEach(function(c){Object.prototype.hasOwnProperty.call(a,c)&&(a[c]-=b)})}};e.exports=m}),null);